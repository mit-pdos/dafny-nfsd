diff --git a/wal/wal.go b/wal/wal.go
index 86ba445..ab7f34c 100644
--- a/wal/wal.go
+++ b/wal/wal.go
@@ -46,7 +46,9 @@ func MkLog(disk disk.Disk) *Walog {
 
 // Assumes caller holds memLock
 func doMemAppend(memLog *sliding, bufs []Update) LogPosition {
-	memLog.memWrite(bufs)
+	for _, buf := range bufs {
+		memLog.append(buf)
+	}
 	txn := memLog.end()
 	return txn
 }
